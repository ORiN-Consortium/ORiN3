syntax = "proto3";

option csharp_namespace = "Message.ORiN3.Provider.V1.AutoGenerated.RootObject";
option ruby_package = "Message::ORiN3::Provider::V1::AutoGenerated::RootObject";
import "Message.ORiN3.Common/V1/orin3_common.proto";

service RootObjectService {
    rpc GetRootObjectId (GetRootObjectIdRequest) returns (GetRootObjectIdResponse);
    rpc OpenEventStream (stream OpenEventStreamRequest) returns (stream OpenEventStreamResponse);
    rpc Shutdown (ShutdownRequest) returns (ShutdownResponse);
    rpc GetInformation (GetInformationRequest) returns (GetInformationResponse);
    rpc RegisterVariables (RegisterVariablesRequest) returns (RegisterVariablesResponse);
    rpc UnregisterVariables (UnregisterVariablesRequest) returns (UnregisterVariablesResponse);
    rpc GetValues (GetValuesRequest) returns (stream GetValuesResponse);
    rpc SetValues (stream SetValuesRequest) returns (stream SetValuesResponse);
    rpc GetStatuses (GetStatusesRequest) returns (GetStatusesResponse);
}

message GetRootObjectIdRequest {
    ORiN3.Common.CommonRequest common = 1;
}

message GetRootObjectIdResponse {
    ORiN3.Common.CommonResponse common = 1;
    bytes userDefinedId = 2;
    bytes rootObjectId = 3;
}

message OpenEventStreamRequest {
    bool end = 1;
}

message OpenEventStreamResponse {
    bytes id = 1;
    bytes args = 2;
    bool end = 3;
}

message ShutdownRequest {
    ORiN3.Common.CommonRequest common = 1;
}

message ShutdownResponse {
    ORiN3.Common.CommonResponse common = 1;
}

message GetInformationRequest {
    ORiN3.Common.CommonRequest common = 1;
}

message GetInformationResponse{
    ORiN3.Common.CommonResponse common = 1;
    string version = 2;
}

message RegisterVariablesRequest {
    ORiN3.Common.CommonRequest common = 1;
    repeated bytes variableIds = 2;
}

message RegisterVariablesResponse {
    ORiN3.Common.CommonResponse common = 1;
    int32 registrationId = 2;
}

message UnregisterVariablesRequest {
    ORiN3.Common.CommonRequest common = 1;
    int32 registrationId = 2;
}

message UnregisterVariablesResponse {
    ORiN3.Common.CommonResponse common = 1;
}

message GetValuesRequest {
    ORiN3.Common.CommonRequest common = 1;
    int32 registrationId = 2;
}

message GetValuesResponse {
    ORiN3.Common.CommonResponse common = 1;
    ORiN3.Common.ORiN3Value value = 2;
}

message SetValuesRequest {
    ORiN3.Common.CommonRequest common = 1;
    oneof body{
        int32 registrationId = 2;
        ORiN3.Common.ORiN3Value value = 3;
    }
}

message SetValuesResponse {
    ORiN3.Common.CommonResponse common = 1;
}

message GetStatusesRequest {
    ORiN3.Common.CommonRequest common = 1;
    repeated bytes ids = 2;
}

message GetStatusesResponse {
    ORiN3.Common.CommonResponse common = 1;
    repeated int32 statuses = 2;
}
