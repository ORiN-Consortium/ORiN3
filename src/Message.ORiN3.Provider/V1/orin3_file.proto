syntax = "proto3";

package Message.ORiN3.Provider;

import "V1/orin3_common.proto";

option csharp_namespace = "Message.ORiN3.Provider.V1.AutoGenerated.File";
option ruby_package = "Message::ORiN3::Provider::V1::AutoGenerated::File";

enum ORiN3MessageFileSeekOrigin {
  BEGIN = 0;
  CURRENT = 1;
  END = 2;
}

service FileService {
  rpc Read(ReadFileRequest) returns (stream ReadFileResponse);
  rpc Write(stream WriteFileRequest) returns (WriteFileResponse);
  rpc Seek(SeekFileRequest) returns (SeekFileResponse);
  rpc CanRead(CanReadFileRequest) returns (CanReadFileResponse);
  rpc CanWrite(CanWriteFileRequest) returns (CanWriteFileResponse);
  rpc GetLength(GetFileLengthRequest) returns (GetFileLengthResponse);
  rpc SetLength(SetFileLengthRequest) returns (SetFileLengthResponse);
}

message ReadFileRequest {
  CommonRequest common = 1;
  bytes id = 2;
  int32 buffer_size = 3;
}

message ReadFileResponse {
  CommonResponse common = 1;
  bytes buffer = 2;
}

message WriteFileRequest {
  CommonRequest common = 1;
  bytes id = 2;
  bytes buffer = 3;
  int32 total_length = 4;
}

message WriteFileResponse {
  CommonResponse common = 1;
}

message SeekFileRequest {
  CommonRequest common = 1;
  bytes id = 2;
  int64 offset = 3;
  ORiN3MessageFileSeekOrigin origin = 4;
}

message SeekFileResponse {
  CommonResponse common = 1;
  int64 position = 2;
}

message CanReadFileRequest {
  CommonRequest common = 1;
  bytes id = 2;
}

message CanReadFileResponse {
  CommonResponse common = 1;
  bool can_read = 2;
}

message CanWriteFileRequest {
  CommonRequest common = 1;
  bytes id = 2;
}

message CanWriteFileResponse {
  CommonResponse common = 1;
  bool can_write = 2;
}

message GetFileLengthRequest {
  CommonRequest common = 1;
  bytes id = 2;
}

message GetFileLengthResponse {
  CommonResponse common = 1;
  int64 length = 2;
}

message SetFileLengthRequest {
  CommonRequest common = 1;
  bytes id = 2;
  int64 length = 3;
}

message SetFileLengthResponse {
  CommonResponse common = 1;
}
