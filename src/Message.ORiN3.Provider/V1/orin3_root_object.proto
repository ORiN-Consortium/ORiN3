syntax = "proto3";

package Message.ORiN3.Provider;

import "Message.ORiN3.Provider/V1/orin3_common_type.proto";

option csharp_namespace = "Message.ORiN3.Provider.V1.AutoGenerated.RootObject";
option ruby_package = "Message::ORiN3::Provider::V1::AutoGenerated::RootObject";

service RootObjectService {
  rpc GetRootObjectId(GetRootObjectIdRequest) returns (GetRootObjectIdResponse);
  rpc OpenEventStream(stream OpenEventStreamRequest) returns (stream OpenEventStreamResponse);
  rpc Shutdown(ShutdownRequest) returns (ShutdownResponse);
  rpc GetInformation(GetInformationRequest) returns (GetInformationResponse);
  rpc RegisterVariables(RegisterVariablesRequest) returns (RegisterVariablesResponse);
  rpc UnregisterVariables(UnregisterVariablesRequest) returns (UnregisterVariablesResponse);
  rpc GetValues(GetValuesRequest) returns (stream GetValuesResponse);
  rpc SetValues(stream SetValuesRequest) returns (stream SetValuesResponse);
  rpc GetStatuses(GetStatusesRequest) returns (GetStatusesResponse);
}

message GetRootObjectIdRequest {
  CommonRequest common = 1;
}

message GetRootObjectIdResponse {
  CommonResponse common = 1;
  bytes user_defined_id = 2;
  bytes root_object_id = 3;
}

message OpenEventStreamRequest {
  bool end = 1;
}

message OpenEventStreamResponse {
  bytes id = 1;
  bytes args = 2;
  bool end = 3;
}

message ShutdownRequest {
  CommonRequest common = 1;
}

message ShutdownResponse {
  CommonResponse common = 1;
}

message GetInformationRequest {
  CommonRequest common = 1;
}

message GetInformationResponse {
  CommonResponse common = 1;
  string orin3_provider_config = 2;
  int32 connection_count = 3;
}

message RegisterVariablesRequest {
  CommonRequest common = 1;
  repeated bytes variable_ids = 2;
}

message RegisterVariablesResponse {
  CommonResponse common = 1;
  int32 registration_id = 2;
}

message UnregisterVariablesRequest {
  CommonRequest common = 1;
  int32 registration_id = 2;
}

message UnregisterVariablesResponse {
  CommonResponse common = 1;
}

message GetValuesRequest {
  CommonRequest common = 1;
  int32 registration_id = 2;
}

message GetValuesResponse {
  CommonResponse common = 1;
  ORiN3Value value = 2;
}

message SetValuesRequest {
  CommonRequest common = 1;
  oneof body {
    int32 registration_id = 2;
    ORiN3Value value = 3;
  }
}

message SetValuesResponse {
  CommonResponse common = 1;
}

message GetStatusesRequest {
  CommonRequest common = 1;
  repeated bytes ids = 2;
}

message GetStatusesResponse {
  CommonResponse common = 1;
  repeated int32 statuses = 2;
}
